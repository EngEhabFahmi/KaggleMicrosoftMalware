from gensim.models.word2vec import Word2Vec
from ast import literal_eval


def w2vTrain(codeCorpus):
    w2v = Word2Vec()
    w2v.build_vocab(codeCorpus.collect())
    w2v.train(codeCorpus.collect())
    w2v.save("s3n://malwaredata/word2vecModelPoint1")
    w2v.save('word2vecModelPoint1')

def sentenceIterator(f):
    for line in f:
        yield literal_eval(line)


if __name__ == "__main__":
    f = open('/mnt/malware/word2vecPoint1.txt')
    sentences = sentenceIterator(f)
    model = Word2Vec(sentences, min_count=2)
